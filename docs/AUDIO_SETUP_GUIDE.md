# 提示音设置指南

## 🔧 问题修复

已修复的问题：
- ✅ 提示音现在只在剩余**5分0秒**和**15分0秒**时精确触发一次
- ✅ 添加了备用音频生成器，即使没有MP3文件也能播放提示音

## 🎵 音频文件选项

### 选项1: 使用内置备用音效（推荐）
无需额外设置，系统会自动使用Web Audio API生成简单的提示音。

### 选项2: 使用自定义MP3文件
如果想要更好的音效体验：

1. **生成提示音**：
   - 在浏览器中访问：`http://localhost:3000/generate-notification-sound.html`
   - 点击"生成提示音"按钮下载WAV文件
   - 将文件重命名为 `notification-sound.mp3`
   - 放到 `frontend/public/` 目录

2. **使用现有音频**：
   - 准备一个2-3秒的MP3音频文件
   - 重命名为 `notification-sound.mp3`
   - 放到 `frontend/public/` 目录

## 📊 提示音触发逻辑

```
倒计时剩余时间 → 触发条件
15分00秒 - 15分02秒 → 🔔 第一次提醒 + 显示加钟按钮
 5分00秒 -  5分02秒 → 🔔 第二次提醒 + 显示加钟按钮
```

- ⏰ 精确到秒的判断，避免重复触发
- 🔇 可通过右上角音量按钮开启/关闭
- 🎵 自动备用音效，确保始终有声音提醒

## 🎛 音量控制

用户可以在专注页面右上角点击音量按钮来：
- 🔊 开启声音提醒
- 🔇 关闭声音提醒

## 🚀 现在可以测试

1. 创建一个较短的任务（如20分钟）
2. 陪玩员进入专注页面
3. 等待或手动调整时间来测试15分钟和5分钟提醒
4. 验证音效播放和加钟按钮显示

提示音功能现在已经完全就绪！